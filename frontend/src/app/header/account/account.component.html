<div class="account-container">
	<!--  Onglets style tableau Excel -->
	<div class="tabs">
	  <button (click)="setActiveTab('profile')" [class.active]="activeTab === 'profile'">Profil</button>
	  <button (click)="setActiveTab('address')" [class.active]="activeTab === 'address'">Adresse</button>
	  <!--<button (click)="setActiveTab('payment')" [class.active]="activeTab === 'payment'">Paiement</button>-->
	</div>

	<!--  Onglet Profil -->
	<div *ngIf="activeTab === 'profile'" class="tab-content">
	  <form [formGroup]="accountForm" (ngSubmit)="saveProfile()">
		<label>Email</label>
		<input formControlName="email" type="email" placeholder="Votre email">

		<!-- ✅ Bouton pour demander le changement d’email -->
		<button type="button" class="validate-button" (click)="changeEmail()">Changer mon email</button>

		<label>Prénom</label>
		<input formControlName="firstName" type="text" placeholder="Votre prénom">

		<label>Nom</label>
		<input formControlName="lastName" type="text" placeholder="Votre nom">

		<label>Téléphone</label>
		<input formControlName="phone" type="tel" placeholder="Votre téléphone">

		<button class="validate-button" type="submit"> Enregistrer</button>
	  </form>

	  <!-- ✅ Message retour API -->
	  <p *ngIf="message" class="info-message">{{ message }}</p>

	  <!--  Changement de mot de passe -->
	  <h3>Changer de mot de passe</h3>
	  <form [formGroup]="passwordForm" (ngSubmit)="changePassword()">
		<label>Ancien mot de passe</label>
		<input formControlName="currentPassword" type="password" placeholder="Votre ancien mot de passe">

		<label>Nouveau mot de passe</label>
		<input formControlName="newPassword" type="password" placeholder="Nouveau mot de passe">

		<label>Confirmer le mot de passe</label>
		<input formControlName="confirmNewPassword" type="password" placeholder="Confirmez le mot de passe">

		<p *ngIf="passwordMismatch" class="error-message">❌ Les mots de passe ne correspondent pas.</p>

		<button class="validate-button" type="submit">🔒 Modifier le mot de passe</button>
	  </form>
	</div>

	<!--  Onglet Adresse -->
	<div *ngIf="activeTab === 'address'" class="tab-content">
	  <form [formGroup]="addressForm" (ngSubmit)="saveAddress()">
		<label>Pays</label>
		<select formControlName="country">
		  <option *ngFor="let country of countries" [value]="country">{{ country }}</option>
		</select>

		<label>Adresse</label>
		<input formControlName="address" type="text" placeholder="Votre adresse">

		<label>Complément d'adresse</label>
		<input formControlName="addressComplement" type="text" placeholder="Bâtiment, étage, etc.">

		<label>Interphone</label>
		<input formControlName="intercom" type="text" placeholder="Code d'accès ou nom interphone">

		<label>Code Postal</label>
		<input formControlName="zipCode" type="text" placeholder="Votre code postal">

		<label>Ville</label>
		<input formControlName="city" type="text" placeholder="Votre ville">

		<button class="validate-button" type="submit"> Enregistrer l'adresse</button>
	  </form>
	</div>

	<!--  Onglet Paiement 
	<div *ngIf="activeTab === 'payment'" class="tab-content">
	<form [formGroup]="paymentForm">
	  <label>Numéro de Carte</label>
	  <input formControlName="cardNumber" type="text" placeholder="1234 5678 9012 3456">

	  <label>Nom sur la carte</label>
	  <input formControlName="cardName" type="text" placeholder="Nom du titulaire">

	  <label>Date d'Expiration</label>
	  <input formControlName="cardExpiry" type="text" placeholder="MM/AA">

	  <label>CVV</label>
	  <input formControlName="cardCVV" type="text" placeholder="123">

	  <button class="validate-button" (click)="savePayment()"> Enregistrer le paiement</button>
	</form>
	-->

	<!--  Cartes enregistrées 
	<div *ngIf="savedCards.length > 0" class="saved-cards-container">
	  <h3>Cartes enregistrées</h3>
	  <div *ngFor="let card of savedCards; let i = index" class="saved-card">
		<p class="card-info">💳 **** **** **** {{ card.last4 }}</p>
		<p class="card-name"><strong>{{ card.cardName }}</strong></p>
		<p class="card-expiry">Expire le {{ card.cardExpiry }}</p>

		<button class="modify-button" (click)="editCard(i)">✏️ Modifier la carte</button>
		<button class="delete-button" (click)="deleteCard(i)">🗑️ Supprimer la carte</button>
	  </div>
	</div>
	-->
</div>
